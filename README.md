# ai-product-hack

# MindTrace ‚Äî –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π –∏ LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Å—Ç–æ–π –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, —Å–±–æ—Ä–∞ —Ç—Ä–∞—Å—Å (events), –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–æ–≤ –≤—ã–∑–æ–≤–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ LLM. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Streamlit –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã, –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–º–ø—Ç—ã –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ª–æ–≥–∏.

##  –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ agent_with_orchestrator.py   # FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä + –∞–≥–µ–Ω—Ç—ã (search, analysis, report)
‚îú‚îÄ custom_trace.py              # –ü—Ä–∏–º–µ—Ä—ã/—É—Ç–∏–ª–∏—Ç—ã —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ (–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è tracer)
‚îú‚îÄ llm_analytics.py             # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–∞—Å—Å: —á–∞–Ω–∫–∏–Ω–≥, –≤—ã–∑–æ–≤ LLM, –æ—Ñ–ª–∞–π–Ω-—Ñ–æ–ª–±—ç–∫
‚îú‚îÄ streamlit_app.py             # –í–µ–±-UI: –ø–æ–¥—ä–µ–º –∞–≥–µ–Ω—Ç–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, LLM-–∞–Ω–∞–ª–∏–∑
‚îú‚îÄ app.py                       # –£—Ç–∏–ª–∏—Ç–∞ –∑–∞–ø—É—Å–∫–∞ Streamlit –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—Ç—É
‚îî‚îÄ multiagent_tracer/
   ‚îî‚îÄ multiagent_tracer.py      # –ö–ª–∞—Å—Å MultiAgentTracer: —Å–±–æ—Ä —Å–æ–±—ã—Ç–∏–π, rebuild –≥—Ä–∞—Ñ–∞, –≥—Ä–∞—Ñ/sequence/timeline
```

*Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Å–∞–º –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –∞–≥–µ–Ω—Ç–æ–≤ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —á–µ—Ä–µ–∑ `uvicorn`.*

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ requirements.txt

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ (–∏–ª–∏ –≤—ã—Å—Ç–∞–≤—å—Ç–µ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ):

```env
# LLM –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
OPENAI_API_KEY=...                 # –∏–ª–∏
OPENROUTER_API_KEY=...

# –î–ª—è OpenRouter —É–∫–∞–∂–∏—Ç–µ –±–∞–∑–æ–≤—ã–π URL
LLM_BASE_URL=https://openrouter.ai/api/v1
LLM_MODEL=gpt-4o-mini              # –ª–∏–±–æ, –¥–ª—è OpenRouter: openai/gpt-4o-mini
```

`llm_analytics.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π `api_key` –∏–ª–∏ –±–µ—Ä–µ—Ç –∫–ª—é—á–∏ –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`OPENROUTER_API_KEY` –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —á–µ—Ä–µ–∑ OpenRouter, –∏–Ω–∞—á–µ `OPENAI_API_KEY`) –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–π URL. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–ª—é—á–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –æ—Ñ–ª–∞–π–Ω-—Ñ–æ–ª–±—ç–∫ (–≤–µ—Ä–¥–∏–∫—Ç `approve` –ø–æ —Ñ–ª–∞–≥—É —É—Å–ø–µ—Ö–∞).

---

## 

```bash
# 1) —Å–æ–∑–¥–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ø—Ä–∏–º–µ—Ä)
python -m venv .venv
# Windows PowerShell:
.\.venv\Scripts\Activate.ps1
# macOS/Linux:
# source .venv/bin/activate

pip install -U fastapi uvicorn requests aiohttp streamlit pandas plotly networkx matplotlib python-dotenv
pip install -U langchain-openai langchain-core jsonschema

# 2) –∑–∞–ø—É—Å—Ç–∏—Ç—å UI (–æ–Ω —Å–∞–º –ø–æ–¥–Ω–∏–º–µ—Ç –∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ 8000..8003)
python -m streamlit run streamlit_app.py

```

–°–∫—Ä–∏–ø—Ç `streamlit_app.py` —Å—Ç–∞—Ä—Ç—É–µ—Ç Streamlit –Ω–∞ –ø–æ—Ä—Ç—É `8501`. –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ `streamlit.log`.

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–Ω—è—Ç—å —á–µ—Ç—ã—Ä–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ `uvicorn`:
- `agent_with_orchestrator:orchestrator_app` ‚Üí `:8000`
- `agent_with_orchestrator:search_app`       ‚Üí `:8001`
- `agent_with_orchestrator:analysis_app`     ‚Üí `:8002`
- `agent_with_orchestrator:report_app`       ‚Üí `:8003`

–ï—Å—Ç—å –∫–Ω–æ–ø–∫–∏ ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –∞–≥–µ–Ω—Ç–æ–≤¬ª –∏ ¬´–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≥–µ–Ω—Ç—ã¬ª –≤ —Å–∞–π–¥–±–∞—Ä–µ.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –∞–≥–µ–Ω—Ç—ã

–§–∞–π–ª `agent_with_orchestrator.py` —Å–æ–¥–µ—Ä–∂–∏—Ç —á–µ—Ç—ã—Ä–µ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä + 3 –∞–≥–µ–Ω—Ç–∞) –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/health` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞. –í –æ–¥–Ω–æ–π –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Ñ–∞–π–ª —Ç–∞–∫–∂–µ —É–º–µ–µ—Ç —Å–∞–º –ø–æ–¥–Ω–∏–º–∞—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –ø–æ—Ç–æ–∫–∞—Ö (free-port, `uvicorn.run`), –µ—Å–ª–∏ –µ–≥–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∫ –º–æ–¥—É–ª—å.

–ó–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è UI –ø–æ `http://localhost:8000/health` ‚Ä¶ `:8003/health`.

### –í–µ–±-UI (Streamlit)

`streamlit_app.py`:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–æ–≤ –≤ —Ñ–æ–Ω–µ (—á–µ—Ä–µ–∑ `subprocess.Popen` + `uvicorn ... --reload`).
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º.
- –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –ø—Ä–æ–º–ø—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞ `POST {orchestrator_url}` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8000/orchestrate`).
- –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ–≤ (JSON), –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π –∏ –≤—ã–∑–æ–≤ LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

### –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –∏ –≥—Ä–∞—Ñ—ã

`multiagent_tracer/multiagent_tracer.py` ‚Äî —è–¥—Ä–æ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏:
- –°–æ–±—ã—Ç–∏—è `AGENT_START/END`, `TOOL_START/END`, `MESSAGE_SENT`, `ERROR`.
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ **invocations-–≥—Ä–∞—Ñ–∞** –ø–æ —Å–æ–±—ã—Ç–∏—è–º —Å ¬´–æ—á–∏—Å—Ç–∫–æ–π¬ª:
  ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ HTTP-–æ–±—ë—Ä—Ç–æ–∫ (`http_call::*`, `::HTTP POST`) –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö ¬´—Å–ª—É–∂–µ–±–Ω—ã—Ö¬ª —à–∞–≥–æ–≤;  
  ‚Äî –ø–µ—Ä–µ—Å–≤—è–∑–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—å‚Üí–¥–µ—Ç–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä—ã—Ç—ã–µ —É–∑–ª—ã;  
  ‚Äî –∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏—è –∏–º—ë–Ω —É–∑–ª–æ–≤ (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤/—Å—É—Ñ—Ñ–∏–∫—Å–æ–≤).
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:
  ‚Äî **Call Graph** (—Ä–µ–∂–∏–º—ã *invocations* –∏ *aggregated*), —Å —Ü–≤–µ—Ç–∞–º–∏ –ø–æ —Ç–∏–ø–∞–º –∏ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞;  
  ‚Äî **Sequence Diagram** (–ª–∏–Ω–∏–∏ –∂–∏–∑–Ω–∏, activation-box –ø–æ –ø–∞—Ä–∞–º START‚ÜíEND, —Å—Ç—Ä–µ–ª–∫–∏ parent/message);  
  ‚Äî **Timeline** (–ø–æ–ª–æ—Å–∫–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ –∞–≥–µ–Ω—Ç–∞–º).

### LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ª–æ–≥–æ–≤

`llm_analytics.py` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞–∑–±–æ—Ä JSON-—Ç—Ä–∞—Å—Å—ã:
- `_session_view_from_trace` —Å–∂–∏–º–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –¥–æ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–ª—è LLM –ø–æ–ª–µ–π.
- `classify_session_with_llm` –±—å—ë—Ç —Å–æ–±—ã—Ç–∏—è –Ω–∞ —á–∞–Ω–∫–∏, –≤—ã–∑—ã–≤–∞–µ—Ç LLM, —Å–æ–±–∏—Ä–∞–µ—Ç –≤–µ—Ä–¥–∏–∫—Ç—ã (`approve/reject/uncertain`) –∏ —Å—É–º–º–∞—Ä–Ω—É—é —Å–µ–∫—Ü–∏—é. –ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞/–ª–∏–º–∏—Ç–∞—Ö ‚Äî **–æ—Ñ–ª–∞–π–Ω-—Ñ–æ–ª–±—ç–∫**: `approve` –ø–æ –ø—Ä–∏–∑–Ω–∞–∫—É —É—Å–ø–µ—Ö–∞ –∏–∑ `_success_map`. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∞–∫–∂–µ —Ç–æ–∫–µ–Ω-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, —Å–æ–±—Ä–∞–Ω–Ω—É—é –∏–∑ `response_metadata/headers` –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –µ—Å–ª–∏ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞.
- `analyze_trace_bytes` ‚Äî —É–¥–æ–±–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è Streamlit: —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª, –≤—ã–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π JSON —Å –ø–æ–ª–µ–º `"assessments"` –∏ `"token_stats"`, –∞ —Ç–∞–∫–∂–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ `approved_event_id`.

---

## ‚ñ∂Ô∏è –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è UI

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python streamlit_app.py` –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É ` python -m streamlit run streamlit_app.py` –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ —Å—Å—ã–ª–∫–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ (–æ–±—ã—á–Ω–æ `http://localhost:8501`) –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
2. –î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ —Å–∞–π–¥–±–∞—Ä –ø–æ–∫–∞–∂–µ—Ç —É—Å–ø–µ—à–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ¬´ü©∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –∞–≥–µ–Ω—Ç–æ–≤¬ª).  
3. –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –≤ —Ñ–æ—Ä–º—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ ‚Äî –∑–∞–ø—Ä–æ—Å —É–π–¥—ë—Ç –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (`POST /orchestrate`). –ê–¥—Ä–µ—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `orchestrator_url` –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–µ–Ω `http://localhost:8000/orchestrate`.
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ JSON-—Ç—Ä–∞—Å—Å—É, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∞–Ω–∞–ª–∏–∑–∞ ‚Äî –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –∞–Ω–∞–ª–∏–∑, –∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π JSON –¥–æ–±–∞–≤—è—Ç—Å—è `assessments` –∏ `token_stats` (–≤ UI –µ—Å—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≥—Ä–∞—Ñ–æ–≤ –∏ –¥–∏–∞–≥—Ä–∞–º–º).

---

## üß™ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –±–µ–∑ UI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ó–∞–ø—É—Å–∫ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –æ—Ç–¥–µ–ª—å–Ω–æ:

```bash
uvicorn agent_with_orchestrator:orchestrator_app --port 8000 --reload
uvicorn agent_with_orchestrator:search_app       --port 8001 --reload
uvicorn agent_with_orchestrator:analysis_app     --port 8002 --reload
uvicorn agent_with_orchestrator:report_app       --port 8003 --reload
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è:

```bash
curl http://localhost:8000/health
curl http://localhost:8001/health
curl http://localhost:8002/health
curl http://localhost:8003/health
```

–≠—Ç–∏ –∂–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞.

---

## üß© –§–æ—Ä–º–∞—Ç —Ç—Ä–∞—Å—Å—ã

JSON —Ç—Ä–∞—Å—Å—ã ‚Äî —ç—Ç–æ —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π —Å –ø–æ–ª—è–º–∏: `event_id`, `timestamp`, `event_type`, `agent_name`, `agent_type`, `data`, `parent_event_id`, –ø–ª—é—Å, –¥–ª—è *_END, –ø–æ–ª—è `duration` –∏ `success`. UI –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `"assessments"` –∏ `"token_stats"`. –°–º. —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–µ—Å—Å–∏–∏ –∏ —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ `llm_analytics.py`.

---

## üêû –¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥

- **–ê–≥–µ–Ω—Ç—ã –Ω–µ –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è** ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã `8000‚Äì8003` —Å–≤–æ–±–æ–¥–Ω—ã; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ¬ª/¬´–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å¬ª –≤ —Å–∞–π–¥–±–∞—Ä–µ; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ UI.
- **–ù–µ—Ç API-–∫–ª—é—á–∞** ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–µ—Ä–µ–π–¥–µ—Ç –≤ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º, –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´API key not provided. Using offline fallback¬ª. –≠—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ.
- **429/–ª–∏–º–∏—Ç—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** ‚Äî `classify_session_with_llm` –∏–º–µ–µ—Ç backoff –∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–±–æ—è—Ö —É—Ö–æ–¥–∏—Ç –≤ –æ—Ñ–ª–∞–π–Ω-—Ñ–æ–ª–±—ç–∫, —á—Ç–æ–±—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –ø–∞–¥–∞–ª.
- **Sequence –¥–∏–∞–≥—Ä–∞–º–º–∞ –±–µ–∑ —Å–≤—è–∑–µ–π** ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–≥–∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ `parent_event_id`. –í–Ω—É—Ç—Ä–∏ `rebuild` HTTP-–æ–±—ë—Ä—Ç–∫–∏ –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —à–∞–≥–∏ —É–¥–∞–ª—è—é—Ç—Å—è, –∞ —Ä–µ–±—Ä–∞ ¬´–ø—Ä–æ–∫–∏–¥—ã–≤–∞—é—Ç—Å—è¬ª –∫ –≤–∏–¥–∏–º—ã–º —É–∑–ª–∞–º, —á—Ç–æ–±—ã –ø–∞–π–ø–ª–∞–π–Ω –±—ã–ª –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–º.

