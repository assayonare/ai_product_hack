# MindTrace ‚Äî –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π –∏ LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

> *–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Å –ø–æ–ª–Ω–æ–π —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π*

**MindTrace** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞–±–æ—Ç—ã –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Streamlit –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞–º–∏, —Å–±–æ—Ä–∞ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞—Å—Å –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è LLM-–∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.

![–ì–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∏—Å—Ç–µ–º—ã](images/main_interface.png)

##  –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-  **–ú—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä + 3 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–∞ (–ø–æ–∏—Å–∫, –∞–Ω–∞–ª–∏–∑, –æ—Ç—á–µ—Ç—ã)
-  **–î–µ—Ç–∞–ª—å–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞**: –°–±–æ—Ä –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ –∏ –∏–µ—Ä–∞—Ä—Ö–∏–µ–π –≤—ã–∑–æ–≤–æ–≤
-  **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: –ì—Ä–∞—Ñ—ã –≤—ã–∑–æ–≤–æ–≤, sequence –¥–∏–∞–≥—Ä–∞–º–º—ã, timeline
-  **LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Å—Å —Å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
-  **Web UI**: –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã
-  **Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –∞–≥–µ–Ω—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º

##  –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ agent_with_orchestrator.py   # FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä + –∞–≥–µ–Ω—Ç—ã (search, analysis, report)
‚îú‚îÄ custom_trace.py              # –ü—Ä–∏–º–µ—Ä—ã/—É—Ç–∏–ª–∏—Ç—ã —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ (–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è tracer)
‚îú‚îÄ llm_analytics.py             # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–∞—Å—Å: —á–∞–Ω–∫–∏–Ω–≥, –≤—ã–∑–æ–≤ LLM, –æ—Ñ–ª–∞–π–Ω-—Ñ–æ–ª–±—ç–∫
‚îú‚îÄ streamlit_app.py             # –í–µ–±-UI: –ø–æ–¥—ä–µ–º –∞–≥–µ–Ω—Ç–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, LLM-–∞–Ω–∞–ª–∏–∑
‚îú‚îÄ app.py                       # –£—Ç–∏–ª–∏—Ç–∞ –∑–∞–ø—É—Å–∫–∞ Streamlit –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—Ç—É
‚îî‚îÄ multiagent_tracer/
   ‚îî‚îÄ multiagent_tracer.py      # –ö–ª–∞—Å—Å MultiAgentTracer: —Å–±–æ—Ä —Å–æ–±—ã—Ç–∏–π, rebuild –≥—Ä–∞—Ñ–∞, –≥—Ä–∞—Ñ/sequence/timeline
‚îî‚îÄ notebooks/
   ‚îî‚îÄ ai_product_agent.ipynb       # –ù–æ—É—Ç–±—É–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏
```

*Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Å–∞–º –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –∞–≥–µ–Ω—Ç–æ–≤ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —á–µ—Ä–µ–∑ `uvicorn`.*

---

##  –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.8+**
- **–°–≤–æ–±–æ–¥–Ω—ã–µ –ø–æ—Ä—Ç—ã**: 8000-8003 (–¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤), 8501 (–¥–ª—è Streamlit)
- **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: API –∫–ª—é—á–∏ –¥–ª—è OpenAI/OpenRouter (–¥–ª—è LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏)

###  –£—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd ai_product_hack

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# Windows:
.\.venv\Scripts\activate
# macOS/Linux:
source .venv/bin/activate
```

#### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ requirements.txt (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
pip install -r requirements.txt

# –ò–ª–∏ —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
pip install -U fastapi uvicorn requests aiohttp streamlit pandas plotly networkx matplotlib python-dotenv
pip install -U langchain-openai langchain-core jsonschema duckduckgo-search
```

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# =============================================================================
# LLM –ê–ù–ê–õ–ò–¢–ò–ö–ê (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# =============================================================================

# –í–∞—Ä–∏–∞–Ω—Ç 1: OpenAI
OPENAI_API_KEY=sk-...

# –í–∞—Ä–∏–∞–Ω—Ç 2: OpenRouter (–±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏)
OPENROUTER_API_KEY=sk-or-v1-...
LLM_BASE_URL=https://openrouter.ai/api/v1
LLM_MODEL=openai/gpt-4o-mini

# =============================================================================
# YANDEX GPT (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
# =============================================================================
FOLDER_ID=your-yandex-folder-id
API_KEY=your-yandex-api-key
```

>  **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ë–µ–∑ API –∫–ª—é—á–µ–π —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ –¥–ª—è LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏

#### 4. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–Ω–∏–º–µ—Ç –≤—Å–µ –∞–≥–µ–Ω—Ç—ã)
python -m streamlit run streamlit_app.py
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8501`
- –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–µ–ª–µ–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- –ù–∞—á–∏–Ω–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É! 

###  –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞–≥–µ–Ω—Ç–æ–≤
curl http://localhost:8000/health  # Orchestrator
curl http://localhost:8001/health  # Search Agent
curl http://localhost:8002/health  # Analysis Agent  
curl http://localhost:8003/health  # Report Agent
```

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å `{"status": "healthy"}`

–°–∫—Ä–∏–ø—Ç `streamlit_app.py` —Å—Ç–∞—Ä—Ç—É–µ—Ç Streamlit –Ω–∞ –ø–æ—Ä—Ç—É `8501`. –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ `streamlit.log`.

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–Ω—è—Ç—å —á–µ—Ç—ã—Ä–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ `uvicorn`:
- `agent_with_orchestrator:orchestrator_app` ‚Üí `:8000`
- `agent_with_orchestrator:search_app`       ‚Üí `:8001`
- `agent_with_orchestrator:analysis_app`     ‚Üí `:8002`
- `agent_with_orchestrator:report_app`       ‚Üí `:8003`

–ï—Å—Ç—å –∫–Ω–æ–ø–∫–∏ ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –∞–≥–µ–Ω—Ç–æ–≤¬ª –∏ ¬´–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≥–µ–Ω—Ç—ã¬ª –≤ —Å–∞–π–¥–±–∞—Ä–µ.

---

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MindTrace](images/architecture_diagram.png)
*–°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã*

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

####  **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä** (–ø–æ—Ä—Ç 8000)
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç UI
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏
- –í–µ–¥–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É

####  **Search Agent** (–ø–æ—Ä—Ç 8001)
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ DuckDuckGo
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

####  **Analysis Agent** (–ø–æ—Ä—Ç 8002)  
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã
- –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—ã

####  **Report Agent** (–ø–æ—Ä—Ç 8003)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–æ–∑–¥–∞–µ—Ç —Ä–µ–∑—é–º–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

####  **Streamlit UI** (–ø–æ—Ä—Ç 8501)
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–≥–µ–Ω—Ç–æ–≤
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Å—Å –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```mermaid
graph TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> B[Streamlit UI :8501]
    B --> C[Orchestrator :8000]
    C --> D[Search Agent :8001]
    C --> E[Analysis Agent :8002]  
    C --> F[Report Agent :8003]
    D --> C
    E --> C
    F --> C
    C --> B
    B --> A
    
    G[MultiAgentTracer] --> H[Trace Events]
    H --> I[LLM Analytics]
    I --> J[–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏]
```

–ó–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è UI –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º `/health` –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.

###  –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Streamlit)

#### –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
![–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞–º–∏](images/agent_control_panel.png)
*–°—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–æ–≤ –∏ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏*

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
-  –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–æ–≤ –≤ —Ñ–æ–Ω–µ —á–µ—Ä–µ–∑ `uvicorn`
-  –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
-  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∞–≥–µ–Ω—Ç–æ–≤
-  –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
![–§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–æ–º–ø—Ç–æ–≤](images/prompt_interface.png)
*–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤*

#### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏

##### üï∏Ô∏è –ì—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤
![–ì—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤](images/call_graph.png)
*–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –ø–æ —Ç–∏–ø–∞–º –∞–≥–µ–Ω—Ç–æ–≤*

##### üìà Sequence –¥–∏–∞–≥—Ä–∞–º–º–∞
![Sequence –¥–∏–∞–≥—Ä–∞–º–º–∞](images/sequence_diagram.png)
*–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏*

##### ‚è±Ô∏è Timeline
![Timeline –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è](images/timeline_view.png)
*Timeline —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –∫–∞–∂–¥—ã–º –∞–≥–µ–Ω—Ç–æ–º*

#### LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞
![LLM –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Å—Å](images/llm_analytics.png)
*–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Å—Å —Å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏*

### –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –∏ –≥—Ä–∞—Ñ—ã

`multiagent_tracer/multiagent_tracer.py` ‚Äî —è–¥—Ä–æ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏:
- –°–æ–±—ã—Ç–∏—è `AGENT_START/END`, `TOOL_START/END`, `MESSAGE_SENT`, `ERROR`.
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ **invocations-–≥—Ä–∞—Ñ–∞** –ø–æ —Å–æ–±—ã—Ç–∏—è–º —Å ¬´–æ—á–∏—Å—Ç–∫–æ–π¬ª:
  ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ HTTP-–æ–±—ë—Ä—Ç–æ–∫ (`http_call::*`, `::HTTP POST`) –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö ¬´—Å–ª—É–∂–µ–±–Ω—ã—Ö¬ª —à–∞–≥–æ–≤;  
  ‚Äî –ø–µ—Ä–µ—Å–≤—è–∑–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—å‚Üí–¥–µ—Ç–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä—ã—Ç—ã–µ —É–∑–ª—ã;  
  ‚Äî –∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏—è –∏–º—ë–Ω —É–∑–ª–æ–≤ (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤/—Å—É—Ñ—Ñ–∏–∫—Å–æ–≤).
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:
  ‚Äî **Call Graph** (—Ä–µ–∂–∏–º—ã *invocations* –∏ *aggregated*), —Å —Ü–≤–µ—Ç–∞–º–∏ –ø–æ —Ç–∏–ø–∞–º –∏ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞;  
  ‚Äî **Sequence Diagram** (–ª–∏–Ω–∏–∏ –∂–∏–∑–Ω–∏, activation-box –ø–æ –ø–∞—Ä–∞–º START‚ÜíEND, —Å—Ç—Ä–µ–ª–∫–∏ parent/message);  
  ‚Äî **Timeline** (–ø–æ–ª–æ—Å–∫–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ –∞–≥–µ–Ω—Ç–∞–º).

### LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ª–æ–≥–æ–≤

`llm_analytics.py` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞–∑–±–æ—Ä JSON-—Ç—Ä–∞—Å—Å—ã:
- `_session_view_from_trace` —Å–∂–∏–º–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –¥–æ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–ª—è LLM –ø–æ–ª–µ–π.
- `classify_session_with_llm` –±—å—ë—Ç —Å–æ–±—ã—Ç–∏—è –Ω–∞ —á–∞–Ω–∫–∏, –≤—ã–∑—ã–≤–∞–µ—Ç LLM, —Å–æ–±–∏—Ä–∞–µ—Ç –≤–µ—Ä–¥–∏–∫—Ç—ã (`approve/reject/uncertain`) –∏ —Å—É–º–º–∞—Ä–Ω—É—é —Å–µ–∫—Ü–∏—é. –ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞/–ª–∏–º–∏—Ç–∞—Ö ‚Äî **–æ—Ñ–ª–∞–π–Ω-—Ñ–æ–ª–±—ç–∫**: `approve` –ø–æ –ø—Ä–∏–∑–Ω–∞–∫—É —É—Å–ø–µ—Ö–∞ –∏–∑ `_success_map`. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∞–∫–∂–µ —Ç–æ–∫–µ–Ω-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, —Å–æ–±—Ä–∞–Ω–Ω—É—é –∏–∑ `response_metadata/headers` –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –µ—Å–ª–∏ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞.
- `analyze_trace_bytes` ‚Äî —É–¥–æ–±–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è Streamlit: —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª, –≤—ã–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π JSON —Å –ø–æ–ª–µ–º `"assessments"` –∏ `"token_stats"`, –∞ —Ç–∞–∫–∂–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ `approved_event_id`.

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π workflow

1. **–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã**
   ```bash
   python -m streamlit run streamlit_app.py
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–≥–µ–Ω—Ç–æ–≤**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8501`
   - –í –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∑–µ–ª–µ–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
   - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "ü©∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –∞–≥–µ–Ω—Ç–æ–≤"

3. **–û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–∞**
   - –í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
   - –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å"
   - –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞ –∞–≥–µ–Ω—Ç–∞–º–∏

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤

####  –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
```
–ù–∞–π–¥–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ —Ä–∞–∑–≤–∏—Ç–∏–∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –≤ 2024 –≥–æ–¥—É 
–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã
```

####  –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏  
```
–ò—Å—Å–ª–µ–¥—É–π —Ä—ã–Ω–æ–∫ —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–µ–π: –∫–ª—é—á–µ–≤—ã–µ –∏–≥—Ä–æ–∫–∏, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, 
–ø—Ä–æ–≥–Ω–æ–∑—ã —Ä–∞–∑–≤–∏—Ç–∏—è –¥–æ 2030 –≥–æ–¥–∞
```

####  –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
```
–ò–∑—É—á–∏ –≤–ª–∏—è–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. 
–ù–∞–π–¥–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –ø–æ–¥–≥–æ—Ç–æ–≤—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```

### –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏

#### –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
1. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç—Ä–∞—Å—Å—É
2. –í —Ä–∞–∑–¥–µ–ª–µ " –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏" –∑–∞–≥—Ä—É–∑–∏—Ç–µ JSON-—Ñ–∞–π–ª —Å –ª–æ–≥–∞–º–∏
3. –ù–∞–∂–º–∏—Ç–µ " –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é LLM" –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
4. –ò–∑—É—á–∏—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:
   - **Call Graph**: –ì—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤ –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏
   - **Sequence Diagram**: –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π  
   - **Timeline**: –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

#### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç—Ä–∞—Å—Å—ã
```json
{
  "events": [
    {
      "event_id": "evt_123",
      "timestamp": 1703123456.789,
      "event_type": "agent_start",
      "agent_name": "orchestrator", 
      "agent_type": "orchestrator",
      "data": {"prompt": "Analyze AI trends"},
      "parent_event_id": null
    }
  ],
  "assessments": {
    "overall_verdict": "approve",
    "token_usage": {"total": 1250, "prompt": 800, "completion": 450}
  }
}
```
---



---


